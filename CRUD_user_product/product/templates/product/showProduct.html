{% extends "base.html" %}
{% load i18n static %}


<div class="container">
{% block content %}


<table class="table table-striped table-bordered table-sm" border="1px solid black" align="center">
    <thead class="thead-dark">
    <tr>
        <th>User Name</th>
        <th>Product Name</th>
        <th>Product Type</th>
        <th>Actions</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    {% for p in products %}
    <tr>
        <td><!--<a href="/showProduct/{{ p.user_id.id }}">-->{{ p.user_id.firstname }}<!--</a>--></td>

        <td>{{ p.product_name }}</td>
        <td>{{ p.product_type }}</td>
        <td>
<!--            <a href="/editUser/{{ user.id }}"><span class="glyphicon glyphicon-pencil" >Edit</span></a>-->
            <form action="/updateProduct/{{ p.id }}" method="POST">
                {% csrf_token %}
                <input type="hidden" name="id" value="{{ p.id }}">
                <input type="submit" value="edit">
            </form>
<!--            <a href="/deleteUser/{{ user.id }}">Delete</a>-->
        </td>
        <td>
            <form action="/deleteProduct/{{ p.id }}" method="POST">
                {% csrf_token %}
                <input type="hidden" name="id" value="{{p.id}}">
                <input type="submit" value="delete">
            </form>
        </td>

    </tr>
    {% endfor %}
    </tbody>
</table>

{% if products.has_other_pages %}
  <ul class="pagination">
    {% if products.has_previous %}
      <li><a href="?page={{ products.previous_page_number }}">&laquo;</a></li>
    {% else %}
      <li class="disabled"><span>&laquo;</span></li>
    {% endif %}
    {% for i in products.paginator.page_range %}
      {% if products.number == i %}
        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
      {% else %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}
    {% if products.has_next %}
      <li><a href="?page={{ products.next_page_number }}">&raquo;</a></li>
    {% else %}
      <li class="disabled"><span>&raquo;</span></li>
    {% endif %}
  </ul>
{% endif %}

<center><a href="{% url 'productreg' %}" class="btn btn-primary">Add New Record</a></center>

{% endblock %}
</div>
